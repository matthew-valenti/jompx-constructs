"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Environment = void 0;
class Environment {
    constructor(environments, defaultAccountName) {
        this.environments = environments;
        this.defaultAccountName = defaultAccountName;
    }
    get(environmentName) {
        return this.environments.find(o => o.environmentName === environmentName);
    }
    getByAccountId(accountId) {
        return this.environments.find(o => o.accountId === accountId);
    }
    /**
     * Get CDK env (to deploy stack to).
     * If default account exists then use it. Allows the env to be specified on the command line for manual deploys.
     * @param environmentName - environment name.
     * @returns - CDK environment.
     */
    getEnv(environmentName) {
        var _a;
        const name = (_a = this.defaultAccountName) !== null && _a !== void 0 ? _a : environmentName;
        const environment = this.environments.find(o => o.environmentName === name);
        return { account: environment === null || environment === void 0 ? void 0 : environment.accountId, region: environment === null || environment === void 0 ? void 0 : environment.region };
    }
}
exports.Environment = Environment;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW52aXJvbm1lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY2xhc3Nlcy9lbnZpcm9ubWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFnQkEsTUFBYSxXQUFXO0lBRXBCLFlBQ1csWUFBNEIsRUFDNUIsa0JBQTJCO1FBRDNCLGlCQUFZLEdBQVosWUFBWSxDQUFnQjtRQUM1Qix1QkFBa0IsR0FBbEIsa0JBQWtCLENBQVM7SUFDbkMsQ0FBQztJQUVHLEdBQUcsQ0FBQyxlQUF1QjtRQUM5QixPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLGVBQWUsS0FBSyxlQUFlLENBQUMsQ0FBQztJQUM5RSxDQUFDO0lBRU0sY0FBYyxDQUFDLFNBQWlCO1FBQ25DLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUyxLQUFLLFNBQVMsQ0FBQyxDQUFDO0lBQ2xFLENBQUM7SUFFRDs7Ozs7T0FLRztJQUNJLE1BQU0sQ0FBQyxlQUF1Qjs7UUFDakMsTUFBTSxJQUFJLFNBQUcsSUFBSSxDQUFDLGtCQUFrQixtQ0FBSSxlQUFlLENBQUM7UUFDeEQsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsZUFBZSxLQUFLLElBQUksQ0FBQyxDQUFDO1FBQzVFLE9BQU8sRUFBRSxPQUFPLEVBQUUsV0FBVyxhQUFYLFdBQVcsdUJBQVgsV0FBVyxDQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsV0FBVyxhQUFYLFdBQVcsdUJBQVgsV0FBVyxDQUFFLE1BQU0sRUFBRSxDQUFDO0lBQzVFLENBQUM7Q0FDSjtBQTFCRCxrQ0EwQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBjZGsgZnJvbSAnYXdzLWNkay1saWInO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJRW52aXJvbm1lbnQge1xyXG4gICAgYWNjb3VudElkOiBzdHJpbmc7XHJcbiAgICByZWdpb246IHN0cmluZztcclxuICAgIGVudmlyb25tZW50TmFtZTogc3RyaW5nO1xyXG4gICAgc3RhZ2U6IFN0YWdlO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElFbnYge1xyXG4gICAgYWNjb3VudDogc3RyaW5nO1xyXG4gICAgcmVnaW9uOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFN0YWdlID0gJ3Byb2QnIHwgJ3Rlc3QnIHwgJ3NhbmRib3gnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVudmlyb25tZW50IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwdWJsaWMgZW52aXJvbm1lbnRzOiBJRW52aXJvbm1lbnRbXSxcclxuICAgICAgICBwdWJsaWMgZGVmYXVsdEFjY291bnROYW1lPzogc3RyaW5nXHJcbiAgICApIHt9XHJcblxyXG4gICAgcHVibGljIGdldChlbnZpcm9ubWVudE5hbWU6IHN0cmluZyk6IElFbnZpcm9ubWVudCB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZW52aXJvbm1lbnRzLmZpbmQobyA9PiBvLmVudmlyb25tZW50TmFtZSA9PT0gZW52aXJvbm1lbnROYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QnlBY2NvdW50SWQoYWNjb3VudElkOiBzdHJpbmcpOiBJRW52aXJvbm1lbnQgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVudmlyb25tZW50cy5maW5kKG8gPT4gby5hY2NvdW50SWQgPT09IGFjY291bnRJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgQ0RLIGVudiAodG8gZGVwbG95IHN0YWNrIHRvKS5cclxuICAgICAqIElmIGRlZmF1bHQgYWNjb3VudCBleGlzdHMgdGhlbiB1c2UgaXQuIEFsbG93cyB0aGUgZW52IHRvIGJlIHNwZWNpZmllZCBvbiB0aGUgY29tbWFuZCBsaW5lIGZvciBtYW51YWwgZGVwbG95cy5cclxuICAgICAqIEBwYXJhbSBlbnZpcm9ubWVudE5hbWUgLSBlbnZpcm9ubWVudCBuYW1lLlxyXG4gICAgICogQHJldHVybnMgLSBDREsgZW52aXJvbm1lbnQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRFbnYoZW52aXJvbm1lbnROYW1lOiBzdHJpbmcpOiBjZGsuRW52aXJvbm1lbnQge1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLmRlZmF1bHRBY2NvdW50TmFtZSA/PyBlbnZpcm9ubWVudE5hbWU7XHJcbiAgICAgICAgY29uc3QgZW52aXJvbm1lbnQgPSB0aGlzLmVudmlyb25tZW50cy5maW5kKG8gPT4gby5lbnZpcm9ubWVudE5hbWUgPT09IG5hbWUpO1xyXG4gICAgICAgIHJldHVybiB7IGFjY291bnQ6IGVudmlyb25tZW50Py5hY2NvdW50SWQsIHJlZ2lvbjogZW52aXJvbm1lbnQ/LnJlZ2lvbiB9O1xyXG4gICAgfVxyXG59Il19