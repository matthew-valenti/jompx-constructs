"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const mysql_datasource_1 = require("./mysql.datasource");
/**
 * TODO: Error handling: https://docs.aws.amazon.com/appsync/latest/devguide/tutorial-lambda-resolvers.html#returning-errors
 */
exports.handler = async (event) => {
    var _a;
    console.log('event', event);
    console.log('process', process);
    let data = null;
    if ((_a = event === null || event === void 0 ? void 0 : event.stash) === null || _a === void 0 ? void 0 : _a.operation) {
        const mySqlDatasource = new mysql_datasource_1.AppSyncMySqlDatasource(event);
        data = mySqlDatasource[event.stash.operation]();
        // args, info, rargs
    }
    return data;
};
// Resolver arguments
// https://www.apollographql.com/docs/apollo-server/data/resolvers/
// parent, args, context, info
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXlzcWwuZGF0YXNvdXJjZS5jb25zdHJ1Y3QuaGFuZGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9hcHAtc3luYy9kYXRhc291cmNlcy9teXNxbC9teXNxbC5kYXRhc291cmNlLmNvbnN0cnVjdC5oYW5kbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBR0EseURBQTREO0FBRTVEOztHQUVHO0FBQ0gsT0FBTyxDQUFDLE9BQU8sR0FBRyxLQUFLLEVBQUUsS0FBZ0MsRUFBRSxFQUFFOztJQUN6RCxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztJQUM1QixPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUVoQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUM7SUFFaEIsVUFBSSxLQUFLLGFBQUwsS0FBSyx1QkFBTCxLQUFLLENBQUUsS0FBSywwQ0FBRSxTQUFTLEVBQUU7UUFDekIsTUFBTSxlQUFlLEdBQUcsSUFBSSx5Q0FBc0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMxRCxJQUFJLEdBQUcsZUFBZSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsU0FBeUMsQ0FBQyxFQUFFLENBQUM7UUFDaEYsb0JBQW9CO0tBQ3ZCO0lBRUQsT0FBTyxJQUFJLENBQUM7QUFDaEIsQ0FBQyxDQUFDO0FBRUYscUJBQXFCO0FBQ3JCLG1FQUFtRTtBQUNuRSw4QkFBOEIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgeyBBcHBTeW5jRGF0YXNvdXJjZSB9IGZyb20gJy4uLy4uL2NsYXNzZXMvYXBwLXN5bmMvZGF0YXNvdXJjZXMvZGF0YXNvdXJjZSc7XHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tZXh0cmFuZW91cy1kZXBlbmRlbmNpZXNcclxuaW1wb3J0IHsgQXBwU3luY1Jlc29sdmVyRXZlbnQgfSBmcm9tICdhd3MtbGFtYmRhJztcclxuaW1wb3J0IHsgQXBwU3luY015U3FsRGF0YXNvdXJjZSB9IGZyb20gJy4vbXlzcWwuZGF0YXNvdXJjZSc7XHJcblxyXG4vKipcclxuICogVE9ETzogRXJyb3IgaGFuZGxpbmc6IGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9hcHBzeW5jL2xhdGVzdC9kZXZndWlkZS90dXRvcmlhbC1sYW1iZGEtcmVzb2x2ZXJzLmh0bWwjcmV0dXJuaW5nLWVycm9yc1xyXG4gKi9cclxuZXhwb3J0cy5oYW5kbGVyID0gYXN5bmMgKGV2ZW50OiBBcHBTeW5jUmVzb2x2ZXJFdmVudDxhbnk+KSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnZXZlbnQnLCBldmVudCk7XHJcbiAgICBjb25zb2xlLmxvZygncHJvY2VzcycsIHByb2Nlc3MpO1xyXG5cclxuICAgIGxldCBkYXRhID0gbnVsbDtcclxuXHJcbiAgICBpZiAoZXZlbnQ/LnN0YXNoPy5vcGVyYXRpb24pIHtcclxuICAgICAgICBjb25zdCBteVNxbERhdGFzb3VyY2UgPSBuZXcgQXBwU3luY015U3FsRGF0YXNvdXJjZShldmVudCk7XHJcbiAgICAgICAgZGF0YSA9IG15U3FsRGF0YXNvdXJjZVtldmVudC5zdGFzaC5vcGVyYXRpb24gYXMga2V5b2YgQXBwU3luY015U3FsRGF0YXNvdXJjZV0oKTtcclxuICAgICAgICAvLyBhcmdzLCBpbmZvLCByYXJnc1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkYXRhO1xyXG59O1xyXG5cclxuLy8gUmVzb2x2ZXIgYXJndW1lbnRzXHJcbi8vIGh0dHBzOi8vd3d3LmFwb2xsb2dyYXBocWwuY29tL2RvY3MvYXBvbGxvLXNlcnZlci9kYXRhL3Jlc29sdmVycy9cclxuLy8gcGFyZW50LCBhcmdzLCBjb250ZXh0LCBpbmZvIl19