"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const mysql_datasource_1 = require("./mysql.datasource");
exports.handler = async (event) => {
    var _a;
    console.log('event', event);
    let data = null;
    if ((_a = event === null || event === void 0 ? void 0 : event.stash) === null || _a === void 0 ? void 0 : _a.operation) {
        const mySqlDatasource = new mysql_datasource_1.AppSyncMySqlDatasource(event);
        data = mySqlDatasource[event.stash.operation]();
    }
    return data;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXlzcWwuZGF0YXNvdXJjZS5jb25zdHJ1Y3QuaGFuZGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9hcHAtc3luYy9kYXRhc291cmNlcy9teXNxbC9teXNxbC5kYXRhc291cmNlLmNvbnN0cnVjdC5oYW5kbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUEseURBQTREO0FBRTVELE9BQU8sQ0FBQyxPQUFPLEdBQUcsS0FBSyxFQUFFLEtBQTRCLEVBQUUsRUFBRTs7SUFDckQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDNUIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBRWhCLFVBQUksS0FBSyxhQUFMLEtBQUssdUJBQUwsS0FBSyxDQUFFLEtBQUssMENBQUUsU0FBUyxFQUFFO1FBQ3pCLE1BQU0sZUFBZSxHQUFHLElBQUkseUNBQXNCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUQsSUFBSSxHQUFHLGVBQWUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLFNBQXlDLENBQUMsRUFBRSxDQUFDO0tBQ25GO0lBRUQsT0FBTyxJQUFJLENBQUM7QUFDaEIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IHsgQXBwU3luY0RhdGFzb3VyY2UgfSBmcm9tICcuLi8uLi9jbGFzc2VzL2FwcC1zeW5jL2RhdGFzb3VyY2VzL2RhdGFzb3VyY2UnO1xyXG5pbXBvcnQgeyBJQXBwU3luY1Jlc29sdmVyRXZlbnQgfSBmcm9tICcuLi8uLi9hcHAtc3luYy50eXBlcyc7XHJcbmltcG9ydCB7IEFwcFN5bmNNeVNxbERhdGFzb3VyY2UgfSBmcm9tICcuL215c3FsLmRhdGFzb3VyY2UnO1xyXG5cclxuZXhwb3J0cy5oYW5kbGVyID0gYXN5bmMgKGV2ZW50OiBJQXBwU3luY1Jlc29sdmVyRXZlbnQpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdldmVudCcsIGV2ZW50KTtcclxuICAgIGxldCBkYXRhID0gbnVsbDtcclxuXHJcbiAgICBpZiAoZXZlbnQ/LnN0YXNoPy5vcGVyYXRpb24pIHtcclxuICAgICAgICBjb25zdCBteVNxbERhdGFzb3VyY2UgPSBuZXcgQXBwU3luY015U3FsRGF0YXNvdXJjZShldmVudCk7XHJcbiAgICAgICAgZGF0YSA9IG15U3FsRGF0YXNvdXJjZVtldmVudC5zdGFzaC5vcGVyYXRpb24gYXMga2V5b2YgQXBwU3luY015U3FsRGF0YXNvdXJjZV0oKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGF0YTtcclxufTtcclxuIl19